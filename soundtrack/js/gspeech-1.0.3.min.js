
    $(document).ready(function () {
        $("#sexy_tooltip").mousedown(function (r) {
            return false
        });
        $(document).mousedown(function (t) {
            var r = parseInt(t.which);
            if (r == 3) {
                return false
            }
            if (!q(t) && j()) {
                c();
                p()
            } else {
                if (j() && q(t)) {
                    if (!sound_container_clicked) {
                        var s = document.all ? true : false;
                        o();
                        if (s) {
                            l()
                        } else {
                            m()
                        }
                        sound_container_clicked = true
                    } else {
                        p();
                        c()
                    }
                    t.preventDefault()
                } else {
                    p()
                }
            }
        });
        $("body").keydown(function (s) {
            if (s.keyCode == 13) {
                if (j()) {
                    if (!sound_container_clicked) {
                        var r = document.all ? true : false;
                        o();
                        if (r) {
                            l()
                        } else {
                            m()
                        }
                        sound_container_clicked = true
                    } else {
                        p();
                        c()
                    }
                }
            }
        });
        function p() {
            if (window.getSelection) {
                if (window.getSelection().empty) {
                    window.getSelection().empty()
                } else {
                    if (window.getSelection().removeAllRanges) {
                        window.getSelection().removeAllRanges()
                    }
                }
            } else {
                if (document.selection) {
                    document.selection.empty()
                }
            }
        }

        function c() {
            n();
            $("#sound_container").fadeTo(10, 1);
            $("#sound_container").fadeOut(300);
            for (f in blink_timer) {
                clearTimeout(blink_timer[f])
            }
            for (ff in rotate_timer) {
                clearInterval(rotate_timer[ff])
            }
            sound_container_clicked = false;
            blinking_enable = true;
            sound_container_visible = true;
            g($("#sexy_tooltip"))
        }

        function d() {
            n();
            $("#sound_container").rotate({animateTo: 360});
            $("#sound_container").fadeTo(10, 1);
            for (f in blink_timer) {
                clearTimeout(blink_timer[f])
            }
            for (f in rotate_timer) {
                clearInterval(rotate_timer[f])
            }
            sound_container_clicked = false;
            blinking_enable = true;
            sound_container_visible = true
        }

        document.onmouseup = function (v) {
            if (!basic_plg_enable) {
                return
            }
            selected_txt = e();
            if (!q(v) && !sound_container_clicked) {
                var s = /^(\s)*$/gi;
                var u = s.test(selected_txt);
                if (u) {
                    selected_txt = ""
                }
                if (selected_txt != "" && selected_txt != undefined && selected_txt.length > 1 && !u) {
                    var t = a(v);
                    var r = t[0];
                    var w = t[1];
                    h(r, w, selected_txt)
                }
            }
        };
        function b() {
            var s = $("#sexy_tooltip").css("display");
            var r = $("#sexy_tooltip .tooltip_inner").css("display");
            if (s == "block" && r == "block") {
                return true
            }
            return false
        }

        $("#sexy_tooltip").mouseup(function (r) {
            return false
        });
        function m() {
            var r = 0;
            rotate_timer_element = setInterval(function () {
                r += 3;
                $("#sound_container").rotate(r)
            }, 15);
            rotate_timer.push(rotate_timer_element)
        }

        function l() {
            if (sound_container_visible) {
                $("#sound_container").fadeTo(200, 0.2);
                sound_container_visible = false
            } else {
                $("#sound_container").fadeTo(200, 1);
                sound_container_visible = true
            }
            blink_timer.push(setTimeout(l, 800))
        }

        function k() {
            if (!($("#sound_container").is(":visible"))) {
                return
            }
            if (blinking_enable) {
                for (f in rotate_timer) {
                    clearInterval(rotate_timer[f])
                }
                $("#sound_container").rotate({animateTo: 0});
                l()
            }
            blinking_enable = false
        }

        function j() {
            var r = $("#sound_container").css("display");
            if (r == "block") {
                return true
            } else {
                return false
            }
        }

        function q(t) {
            if (typeof event == "undefined") {
                var r = t.target || t.srcElement
            } else {
                var r = event.target || event.srcElement
            }
            var s = r.id;
            if (s == "sound_container") {
                return true
            } else {
                return false
            }
        }

        function i(A, u, s) {
            var y = parseFloat($("#sound_container ").width() / 2);
            var x = parseFloat(A.find(".tooltip_inner").width());
            var v = parseFloat(A.show().find(".tooltip_inner").height());
            var w = parseFloat(A.next("#sound_container ").height());
            A.hide();
            if (A.find(".the-tooltip").hasClass("left")) {
                var z = -32 * 1 + y * 1 + u * 1;
                A.css({left: z, opacity: 0, display: "block"})
            }
            if (A.find(".the-tooltip").hasClass("top")) {
                var t = s - 200 * 1;
                var r = s;
                A.css({top: t, display: "block"});
                var B = 0.95;
                A.stop().animate({top: r, opacity: B}, 300, "easeOutBack", function () {
                    A.css({display: "block"})
                })
            } else {
                if (A.find(".the-tooltip").hasClass("bottom")) {
                    if (A.find(".tooltip_inner").hasClass("powered_by")) {
                        var B = 0.95
                    } else {
                        var B = 0.95
                    }
                    var t = s + 200 * 1;
                    var r = s + w * 1 + 16 * 1;
                    A.css({top: t, display: "block"});
                    A.stop().animate({top: r, opacity: B}, 300, "easeOutBack", function () {
                        A.css({display: "block"})
                    })
                }
            }
        }

        function g(r) {
            if (r.find(".the-tooltip").hasClass("top")) {
                r.stop(true, true).delay(200).animate({top: "-=200px", opacity: 0}, 300, "easeInBack", function () {
                    $(this).hide()
                })
            } else {
                if (r.find(".the-tooltip").hasClass("bottom")) {
                    r.stop(true, true).delay(130).animate({top: "+=200px", opacity: 0}, 300, "easeInBack", function () {
                        $(this).hide()
                    })
                }
            }
        }

        $("#sound_container").hover(function () {
            var s = parseFloat($(this).css("left"));
            var r = parseFloat($(this).css("top"));
            i($("#sexy_tooltip_title"), s, r)
        }, function () {
            var s = parseFloat($(this).css("left"));
            var r = parseFloat($(this).css("top"));
            g($("#sexy_tooltip_title"), s, r)
        });
        function h(s, v, r) {
            var u = s * 1 + 5;
            var t = v * 1 - 5;
            $("#sound_container").css({left: u, top: t});
            $("#sound_container").rotate(0);
            $("#sound_container").fadeIn(400);
            $("#sound_text").html(r);
            i($("#sexy_tooltip"), u, t)
        }

        function o() {
            selected_txt = $("#sound_text").html();
            var w = new Array(), u = new Array(), r = 0;
            w = selected_txt.split(/[^\S]+/);
            for (var t = 0; t < w.length; t++) {
                if (u[r] == undefined) {
                    u[r] = ""
                }
                var y = u[r].length + w[t].length;
                if (u[r].length < speech_text_length && y < speech_text_length) {
                    u[r] += w[t] + " "
                } else {
                    ++r;
                    u[r] = w[t] + " "
                }
            }
            var v = u.length;
            var s = "";
            for (var t = 0; t < v; t++) {
                s += '<audio id="player' + t + '" src="' + streamerphp_folder + 'speech.mpeg" type="' + translation_audio_type + '" controls="controls"></audio>'
            }
            $("#sound_audio").html(s);
            for (var t = 0; t < v; t++) {
                x(t, v)
            }
            function x(z, A) {
                $("#player" + z).mediaelementplayer({
                    success: function (C, D) {
                        players[z] = C;
                        var E = encodeURIComponent(u[z]);
                        var B = streamerphp_folder + "streamer.php?q=" + E + "&l=" + lang_identifier + "&tr_tool=" + translation_tool;
                        C.setSrc(B);
                        C.addEventListener("pause", function (F) {
                            try {
                                players[z + 1].play()
                            } catch (F) {
                            }
                        }, false);
                        players[0].addEventListener("progress", function (F) {
                            k()
                        }, false);
                        if (z == A - 1) {
                            players[A - 1].addEventListener("pause", function (F) {
                                d()
                            }, false)
                        }
                        C.load();
                        if (z == 0) {
                            C.play()
                        }
                    }
                })
            }
        }

        function e() {
            var w = "", v = [];

            function r(x) {
                if (x.nodeType == 3) {
                    v.push(x.data)
                } else {
                    if (x.hasChildNodes() && !(x.nodeType == 1 && /^(script|style)$/i.test(x.tagName))) {
                        for (var y = x.firstChild; !!y; y = y.nextSibling) {
                            r(y)
                        }
                    }
                }
            }

            if (window.getSelection) {
                var u = window.getSelection(), s = u.rangeCount;
                if (s) {
                    for (var t = 0; t < s; ++t) {
                        r(u.getRangeAt(t).cloneContents())
                    }
                    w = v.join("")
                }
            } else {
                if (document.selection && document.selection.type == "Text") {
                    w = document.selection.createRange().text
                }
            }
            return w
        }

        function a(w) {
            var t = document.all ? true : false;
            var s, r;
            if (!t) {
                s = w.pageX;
                r = w.pageY
            }
            if (t) {
                var v = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft;
                s = event.clientX + v;
                var u = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop;
                r = event.clientY + u
            }
            return [s, r]
        }

        function n() {
            for (var r in players) {
                players[r] = ""
            }
            $("#sound_audio").html("")
        }
    });